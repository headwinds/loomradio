{"ast":null,"code":"import _classCallCheck from \"/Users/braflow/loomradio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/braflow/loomradio/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/Users/braflow/loomradio/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/braflow/loomradio/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/braflow/loomradio/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/braflow/loomradio/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"/Users/braflow/loomradio/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/braflow/loomradio/src/players/Wistia.js\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport { callPlayer, getSDK } from '../utils';\nimport createSinglePlayer from '../singlePlayer';\nvar SDK_URL = '//fast.wistia.com/assets/external/E-v1.js';\nvar SDK_GLOBAL = 'Wistia';\nvar MATCH_URL = /(?:wistia\\.com|wi\\.st)\\/(?:medias|embed)\\/(.*)$/;\nexport var Wistia = /*#__PURE__*/function (_Component) {\n  _inherits(Wistia, _Component);\n\n  var _super = _createSuper(Wistia);\n\n  function Wistia() {\n    var _this;\n\n    _classCallCheck(this, Wistia);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"callPlayer\", callPlayer);\n\n    _defineProperty(_assertThisInitialized(_this), \"mute\", function () {\n      _this.callPlayer('mute');\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"unmute\", function () {\n      _this.callPlayer('unmute');\n    });\n\n    return _this;\n  }\n\n  _createClass(Wistia, [{\n    key: \"getID\",\n    value: function getID(url) {\n      return url && url.match(MATCH_URL)[1];\n    }\n  }, {\n    key: \"load\",\n    value: function load(url) {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          playing = _this$props.playing,\n          muted = _this$props.muted,\n          controls = _this$props.controls,\n          _onReady = _this$props.onReady,\n          onPlay = _this$props.onPlay,\n          onPause = _this$props.onPause,\n          onSeek = _this$props.onSeek,\n          onEnded = _this$props.onEnded,\n          config = _this$props.config,\n          onError = _this$props.onError;\n      getSDK(SDK_URL, SDK_GLOBAL).then(function () {\n        window._wq = window._wq || [];\n\n        window._wq.push({\n          id: _this2.getID(url),\n          options: _objectSpread({\n            autoPlay: playing,\n            silentAutoPlay: 'allow',\n            muted: muted,\n            controlsVisibleOnLoad: controls\n          }, config.wistia.options),\n          onReady: function onReady(player) {\n            _this2.player = player;\n\n            _this2.unbind();\n\n            _this2.player.bind('play', onPlay);\n\n            _this2.player.bind('pause', onPause);\n\n            _this2.player.bind('seek', onSeek);\n\n            _this2.player.bind('end', onEnded);\n\n            _onReady();\n          }\n        });\n      }, onError);\n    }\n  }, {\n    key: \"play\",\n    value: function play() {\n      this.callPlayer('play');\n    }\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      this.callPlayer('pause');\n    }\n  }, {\n    key: \"unbind\",\n    value: function unbind() {\n      var _this$props2 = this.props,\n          onPlay = _this$props2.onPlay,\n          onPause = _this$props2.onPause,\n          onSeek = _this$props2.onSeek,\n          onEnded = _this$props2.onEnded;\n      this.player.unbind('play', onPlay);\n      this.player.unbind('pause', onPause);\n      this.player.unbind('seek', onSeek);\n      this.player.unbind('end', onEnded);\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      this.unbind();\n      this.callPlayer('remove');\n    }\n  }, {\n    key: \"seekTo\",\n    value: function seekTo(seconds) {\n      this.callPlayer('time', seconds);\n    }\n  }, {\n    key: \"setVolume\",\n    value: function setVolume(fraction) {\n      this.callPlayer('volume', fraction);\n    }\n  }, {\n    key: \"setPlaybackRate\",\n    value: function setPlaybackRate(rate) {\n      this.callPlayer('playbackRate', rate);\n    }\n  }, {\n    key: \"getDuration\",\n    value: function getDuration() {\n      return this.callPlayer('duration');\n    }\n  }, {\n    key: \"getCurrentTime\",\n    value: function getCurrentTime() {\n      return this.callPlayer('time');\n    }\n  }, {\n    key: \"getSecondsLoaded\",\n    value: function getSecondsLoaded() {\n      return null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var id = this.getID(this.props.url);\n      var className = \"wistia_embed wistia_async_\".concat(id);\n      var style = {\n        width: '100%',\n        height: '100%'\n      };\n      return __jsx(\"div\", {\n        key: id,\n        className: className,\n        style: style,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 7\n        }\n      });\n    }\n  }]);\n\n  return Wistia;\n}(Component);\n\n_defineProperty(Wistia, \"displayName\", 'Wistia');\n\n_defineProperty(Wistia, \"canPlay\", function (url) {\n  return MATCH_URL.test(url);\n});\n\n_defineProperty(Wistia, \"loopOnEnded\", true);\n\nexport default _c = createSinglePlayer(Wistia);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["/Users/braflow/loomradio/src/players/Wistia.js"],"names":["React","Component","callPlayer","getSDK","createSinglePlayer","SDK_URL","SDK_GLOBAL","MATCH_URL","Wistia","url","match","props","playing","muted","controls","onReady","onPlay","onPause","onSeek","onEnded","config","onError","then","window","_wq","push","id","getID","options","autoPlay","silentAutoPlay","controlsVisibleOnLoad","wistia","player","unbind","bind","seconds","fraction","rate","className","style","width","height","test"],"mappings":";;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,SAASC,UAAT,EAAqBC,MAArB,QAAmC,UAAnC;AACA,OAAOC,kBAAP,MAA+B,iBAA/B;AAEA,IAAMC,OAAO,GAAG,2CAAhB;AACA,IAAMC,UAAU,GAAG,QAAnB;AACA,IAAMC,SAAS,GAAG,iDAAlB;AAEA,WAAaC,MAAb;AAAA;;AAAA;;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA;;AAAA;;AAAA,iEAKeN,UALf;;AAAA,2DAyDS,YAAM;AACX,YAAKA,UAAL,CAAgB,MAAhB;AACD,KA3DH;;AAAA,6DA4DW,YAAM;AACb,YAAKA,UAAL,CAAgB,QAAhB;AACD,KA9DH;;AAAA;AAAA;;AAAA;AAAA;AAAA,0BAMSO,GANT,EAMc;AACV,aAAOA,GAAG,IAAIA,GAAG,CAACC,KAAJ,CAAUH,SAAV,EAAqB,CAArB,CAAd;AACD;AARH;AAAA;AAAA,yBASQE,GATR,EASa;AAAA;;AAAA,wBACwF,KAAKE,KAD7F;AAAA,UACDC,OADC,eACDA,OADC;AAAA,UACQC,KADR,eACQA,KADR;AAAA,UACeC,QADf,eACeA,QADf;AAAA,UACyBC,QADzB,eACyBA,OADzB;AAAA,UACkCC,MADlC,eACkCA,MADlC;AAAA,UAC0CC,OAD1C,eAC0CA,OAD1C;AAAA,UACmDC,MADnD,eACmDA,MADnD;AAAA,UAC2DC,OAD3D,eAC2DA,OAD3D;AAAA,UACoEC,MADpE,eACoEA,MADpE;AAAA,UAC4EC,OAD5E,eAC4EA,OAD5E;AAETlB,MAAAA,MAAM,CAACE,OAAD,EAAUC,UAAV,CAAN,CAA4BgB,IAA5B,CAAiC,YAAM;AACrCC,QAAAA,MAAM,CAACC,GAAP,GAAaD,MAAM,CAACC,GAAP,IAAc,EAA3B;;AACAD,QAAAA,MAAM,CAACC,GAAP,CAAWC,IAAX,CAAgB;AACdC,UAAAA,EAAE,EAAE,MAAI,CAACC,KAAL,CAAWlB,GAAX,CADU;AAEdmB,UAAAA,OAAO;AACLC,YAAAA,QAAQ,EAAEjB,OADL;AAELkB,YAAAA,cAAc,EAAE,OAFX;AAGLjB,YAAAA,KAAK,EAAEA,KAHF;AAILkB,YAAAA,qBAAqB,EAAEjB;AAJlB,aAKFM,MAAM,CAACY,MAAP,CAAcJ,OALZ,CAFO;AASdb,UAAAA,OAAO,EAAE,iBAAAkB,MAAM,EAAI;AACjB,YAAA,MAAI,CAACA,MAAL,GAAcA,MAAd;;AACA,YAAA,MAAI,CAACC,MAAL;;AACA,YAAA,MAAI,CAACD,MAAL,CAAYE,IAAZ,CAAiB,MAAjB,EAAyBnB,MAAzB;;AACA,YAAA,MAAI,CAACiB,MAAL,CAAYE,IAAZ,CAAiB,OAAjB,EAA0BlB,OAA1B;;AACA,YAAA,MAAI,CAACgB,MAAL,CAAYE,IAAZ,CAAiB,MAAjB,EAAyBjB,MAAzB;;AACA,YAAA,MAAI,CAACe,MAAL,CAAYE,IAAZ,CAAiB,KAAjB,EAAwBhB,OAAxB;;AACAJ,YAAAA,QAAO;AACR;AAjBa,SAAhB;AAmBD,OArBD,EAqBGM,OArBH;AAsBD;AAjCH;AAAA;AAAA,2BAkCU;AACN,WAAKnB,UAAL,CAAgB,MAAhB;AACD;AApCH;AAAA;AAAA,4BAqCW;AACP,WAAKA,UAAL,CAAgB,OAAhB;AACD;AAvCH;AAAA;AAAA,6BAwCY;AAAA,yBACqC,KAAKS,KAD1C;AAAA,UACAK,MADA,gBACAA,MADA;AAAA,UACQC,OADR,gBACQA,OADR;AAAA,UACiBC,MADjB,gBACiBA,MADjB;AAAA,UACyBC,OADzB,gBACyBA,OADzB;AAER,WAAKc,MAAL,CAAYC,MAAZ,CAAmB,MAAnB,EAA2BlB,MAA3B;AACA,WAAKiB,MAAL,CAAYC,MAAZ,CAAmB,OAAnB,EAA4BjB,OAA5B;AACA,WAAKgB,MAAL,CAAYC,MAAZ,CAAmB,MAAnB,EAA2BhB,MAA3B;AACA,WAAKe,MAAL,CAAYC,MAAZ,CAAmB,KAAnB,EAA0Bf,OAA1B;AACD;AA9CH;AAAA;AAAA,2BA+CU;AACN,WAAKe,MAAL;AACA,WAAKhC,UAAL,CAAgB,QAAhB;AACD;AAlDH;AAAA;AAAA,2BAmDUkC,OAnDV,EAmDmB;AACf,WAAKlC,UAAL,CAAgB,MAAhB,EAAwBkC,OAAxB;AACD;AArDH;AAAA;AAAA,8BAsDaC,QAtDb,EAsDuB;AACnB,WAAKnC,UAAL,CAAgB,QAAhB,EAA0BmC,QAA1B;AACD;AAxDH;AAAA;AAAA,oCA+DmBC,IA/DnB,EA+DyB;AACrB,WAAKpC,UAAL,CAAgB,cAAhB,EAAgCoC,IAAhC;AACD;AAjEH;AAAA;AAAA,kCAkEiB;AACb,aAAO,KAAKpC,UAAL,CAAgB,UAAhB,CAAP;AACD;AApEH;AAAA;AAAA,qCAqEoB;AAChB,aAAO,KAAKA,UAAL,CAAgB,MAAhB,CAAP;AACD;AAvEH;AAAA;AAAA,uCAwEsB;AAClB,aAAO,IAAP;AACD;AA1EH;AAAA;AAAA,6BA2EY;AACR,UAAMwB,EAAE,GAAG,KAAKC,KAAL,CAAW,KAAKhB,KAAL,CAAWF,GAAtB,CAAX;AACA,UAAM8B,SAAS,uCAAgCb,EAAhC,CAAf;AACA,UAAMc,KAAK,GAAG;AACZC,QAAAA,KAAK,EAAE,MADK;AAEZC,QAAAA,MAAM,EAAE;AAFI,OAAd;AAIA,aACE;AAAK,QAAA,GAAG,EAAEhB,EAAV;AAAc,QAAA,SAAS,EAAEa,SAAzB;AAAoC,QAAA,KAAK,EAAEC,KAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF;AAGD;AArFH;;AAAA;AAAA,EAA4BvC,SAA5B;;gBAAaO,M,iBACU,Q;;gBADVA,M,aAEM,UAAAC,GAAG;AAAA,SAAIF,SAAS,CAACoC,IAAV,CAAelC,GAAf,CAAJ;AAAA,C;;gBAFTD,M,iBAGU,I;;AAqFvB,oBAAeJ,kBAAkB,CAACI,MAAD,CAAjC","sourcesContent":["import React, { Component } from 'react'\n\nimport { callPlayer, getSDK } from '../utils'\nimport createSinglePlayer from '../singlePlayer'\n\nconst SDK_URL = '//fast.wistia.com/assets/external/E-v1.js'\nconst SDK_GLOBAL = 'Wistia'\nconst MATCH_URL = /(?:wistia\\.com|wi\\.st)\\/(?:medias|embed)\\/(.*)$/\n\nexport class Wistia extends Component {\n  static displayName = 'Wistia'\n  static canPlay = url => MATCH_URL.test(url)\n  static loopOnEnded = true\n\n  callPlayer = callPlayer\n  getID (url) {\n    return url && url.match(MATCH_URL)[1]\n  }\n  load (url) {\n    const { playing, muted, controls, onReady, onPlay, onPause, onSeek, onEnded, config, onError } = this.props\n    getSDK(SDK_URL, SDK_GLOBAL).then(() => {\n      window._wq = window._wq || []\n      window._wq.push({\n        id: this.getID(url),\n        options: {\n          autoPlay: playing,\n          silentAutoPlay: 'allow',\n          muted: muted,\n          controlsVisibleOnLoad: controls,\n          ...config.wistia.options\n        },\n        onReady: player => {\n          this.player = player\n          this.unbind()\n          this.player.bind('play', onPlay)\n          this.player.bind('pause', onPause)\n          this.player.bind('seek', onSeek)\n          this.player.bind('end', onEnded)\n          onReady()\n        }\n      })\n    }, onError)\n  }\n  play () {\n    this.callPlayer('play')\n  }\n  pause () {\n    this.callPlayer('pause')\n  }\n  unbind () {\n    const { onPlay, onPause, onSeek, onEnded } = this.props\n    this.player.unbind('play', onPlay)\n    this.player.unbind('pause', onPause)\n    this.player.unbind('seek', onSeek)\n    this.player.unbind('end', onEnded)\n  }\n  stop () {\n    this.unbind()\n    this.callPlayer('remove')\n  }\n  seekTo (seconds) {\n    this.callPlayer('time', seconds)\n  }\n  setVolume (fraction) {\n    this.callPlayer('volume', fraction)\n  }\n  mute = () => {\n    this.callPlayer('mute')\n  }\n  unmute = () => {\n    this.callPlayer('unmute')\n  }\n  setPlaybackRate (rate) {\n    this.callPlayer('playbackRate', rate)\n  }\n  getDuration () {\n    return this.callPlayer('duration')\n  }\n  getCurrentTime () {\n    return this.callPlayer('time')\n  }\n  getSecondsLoaded () {\n    return null\n  }\n  render () {\n    const id = this.getID(this.props.url)\n    const className = `wistia_embed wistia_async_${id}`\n    const style = {\n      width: '100%',\n      height: '100%'\n    }\n    return (\n      <div key={id} className={className} style={style} />\n    )\n  }\n}\n\nexport default createSinglePlayer(Wistia)\n"]},"metadata":{},"sourceType":"module"}